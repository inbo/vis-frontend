<div>
	<div class="grid grid-cols-6 gap-x-4 text-sm">
		<div class="col-span-6 md:col-span-4">
			<vis-fishing-points-map [zoomLevel]="17"
			                        (loaded)="mapLoaded()"
			                        (townLayerSelected)="townSelected($event)"
			                        (vhaLayerSelected)="featureSelected($event)"
			                        [disableInteraction]="editMode"
			                        [enableSidebar]="false"
			                        [blueLayerVisible]="false"
			                        [fishingPointsLayerVisible]="false">
			</vis-fishing-points-map>
		</div>

		<div class="mt-4 md:mt-0 col-span-6 md:col-span-2">
			<form [formGroup]="formGroup">
				<div class="grid grid-cols-1 gap-y-6">
					<div>
						<label for="incline"
						       class="block text-sm font-medium text-gray-700">
							Helling (â€°)
						</label>
						<div class="mt-1 relative">
							<input [imask]="numberMask(3, 0, 99999.999)"
							       [unmask]="true"
							       formControlName="incline"
							       type="text"
							       name="slope"
							       id="incline">
							<vis-error-icon class="input-field-icon"
							                [fieldName]="'Helling'"
							                [control]="incline"
							                [onlyShowAfterSubmitted]="false">
							</vis-error-icon>
						</div>
					</div>

					<div>
						<label for="width"
						       class="block text-sm font-medium text-gray-700">
							Breedte (m)
						</label>
						<div class="mt-1 relative">
							<input [imask]="numberMask(2, 0.01, 99999.99)"
							       [unmask]="true"
							       formControlName="width"
							       type="text"
							       name="width"
							       id="width">
							<vis-error-icon class="input-field-icon"
							                [fieldName]="'Breedte'"
							                [control]="width"
							                [onlyShowAfterSubmitted]="false">
							</vis-error-icon>
						</div>
					</div>
                    <div *ngIf="editMode && !this.formGroup.get('snappedLat').value">
                        <div class="flex items-center">
                            <input type="checkbox" class="disabled disabled:opacity-60" [disabled]="true" checked>
                            <label class="ml-3 block text-sm font-medium text-gray-400">Geen overeenkomstige VHAG waterloop beschikbaar</label>
                        </div>
                    </div>
                    <div *ngIf="formGroup.contains('noPointOnMap') && !editMode">
                        <div class="flex items-center">
                            <input formControlName="noPointOnMap" type="checkbox">
                            <label class="ml-3 block text-sm font-medium text-red-600">Geen overeenkomstige VHAG waterloop beschikbaar</label>
                        </div>
                        <div class="flex mt-2 ml-3">
                            <vis-warning-icon [messages]="['Uitzonderlijke gevallen']"></vis-warning-icon>
                            <div class="ml-2 text-sm text-red-600">Deze optie is enkel te gebruiken in uitzonderlijke gevallen, waarbij geen VHAG waterloop is opgenomen. Bvb. gelegen buiten Vlaanderen, gracht, taploop.</div>
                        </div>
                    </div>
				</div>

        <div class="mt-4" *ngIf="!townInfoValue">
          <label for="countryCode" class="block text-sm font-medium text-gray-700">Kies een land</label>
          <select formControlName="countryCode" id="countryCode" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
            <option value="FR">Frankrijk</option>
            <option value="DE">Duitsland</option>
            <option value="NL">Nederland</option>
          </select>
          <div *ngIf="submitted && countryCodeFormControl?.invalid" class="text-red-600 text-sm mt-1">
            <span *ngIf="countryCodeFormControl?.errors?.required">Land is verplicht.</span>
          </div>
        </div>

			</form>
		</div>

		<div class="col-span-6 bg-white overflow-hidden shadow rounded-lg mt-6"
		     *ngIf="!editMode">
			<div class="px-4 py-5 sm:p-6 grid grid-cols-6 gap-x-4">
				<div class="col-span-6 md:col-span-3">
					<vis-fishing-points-selected-feature *ngIf="townInfoValue"
					                                     [properties]="townInfoValue"
					                                     [layerName]="'Gemeente van het geselecteerde punt'"
					                                     [layerNumber]="townLayerId"></vis-fishing-points-selected-feature>
				</div>
				<div class="col-span-6 md:col-span-3">
					<vis-fishing-points-selected-feature *ngIf="vhaInfoValue"
					                                     [properties]="vhaInfoValue"
					                                     [layerName]="'Geselecteerde waterloop'"
					                                     [layerNumber]="vhaBlueLayerId"></vis-fishing-points-selected-feature>
				</div>
			</div>
		</div>

			<div class="col-span-6 overflow-hidden text-right">
				<p *ngIf="!editMode && vhaInfoEmpty && !noPointOnMap"
					 class="mt-2 text-sm text-red-600">Het is verplicht om een waterloop op de kaart te kiezen</p>
			</div>
			<div class="col-span-6 md:col-end-7 md:col-span-3 overflow-hidden text-right">
					<p *ngIf="noPointOnMap"
             class="mt-2 text-sm text-red-600">Indien geen waterloop werd aangeklikt is het belangrijk dat u de naam van de waterloop vermeldt in de omschrijving van het vispunt. Indien u dit nog niet deed dient u na het bewaren het vispunt opnieuw te bewerken.
          </p>
      </div>
	</div>
</div>
