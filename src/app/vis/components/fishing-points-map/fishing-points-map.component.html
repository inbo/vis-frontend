<div class="relative z-10"
     [ngClass]="{'pointer-events-none': disableInteraction}">
	<div [style.height]="mapHeight"
	     leaflet
	     [leafletZoom]="this.zoomLevel"
	     (leafletClick)="clickMap($event)"
	     (leafletDoubleClick)="onDoubleClick($event)"
	     [leafletCenter]="center"
	     [leafletOptions]="options"
	     [leafletLayers]="layers"
	     [leafletLayersControl]="layersControl"
	     (leafletMapReady)="mapReady($event)"
	     [leafletMarkerCluster]="markerClusterData">
	</div>

	<leaflet-fullscreen-control
			[map]="map"
			[options]="fullscreenOptions">
	</leaflet-fullscreen-control>

	<div class="absolute flex-col top-16 right-0 z-[800]">
		<div (click)="toggleTooltips()"
		     class="bg-white mt-1.5 p-2.5 mr-2.5 rounded border-lg border-2 border-black border-opacity-20 text-gray-400 cursor-pointer"
		     ngxTippy
		     [tippyProps]="{delay: 700, placement: 'left'}"
		     data-tippy-content="Zet meetpuntlabels aan of uit.">
			<svg xmlns="http://www.w3.org/2000/svg"
			     class="h-6 w-6"
			     fill="none"
			     viewBox="0 0 24 24"
			     stroke="currentColor"
			     stroke-width="2">
				<path [style.color]="showTooltips ? '#9D346A' : '#D98CB4'"
				      stroke-linecap="round"
				      stroke-linejoin="round"
				      d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"/>
			</svg>
		</div>
	</div>
	<div class="absolute top-0 right-0 bottom-0 max-w-full flex z-50"
	     style="z-index: 1000">
		<div [ngTransition]="openSelectionPanel"
		     ngTransitionEnter="transform transition ease-in-out duration-500 sm:duration-700"
		     ngTransitionEnterStart="translate-x-full"
		     ngTransitionEnterEnd="translate-x-0"
		     ngTransitionLeave="transform transition ease-in-out duration-500 sm:duration-700"
		     ngTransitionLeaveStart="translate-x-0"
		     ngTransitionLeaveEnd="translate-x-full"
		     class="w-screen max-w-md"
		     [class.hidden]="!openSelectionPanel">
			<div class="h-full flex flex-col py-6 bg-white shadow-xl overflow-y-auto overflow-x-hidden">
				<div class="px-4 sm:px-6">
					<div class="flex items-start justify-between">
						<h2 class="text-lg font-medium text-gray-900"
						    id="slide-over-title">
							Selectie
						</h2>
						<div class="ml-3 h-7 flex items-center">
							<button (click)="closeSelection()"
							        type="button"
							        class="bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
								<span class="sr-only">Sluit selectie</span>
								<svg class="h-6 w-6"
								     xmlns="http://www.w3.org/2000/svg"
								     fill="none"
								     viewBox="0 0 24 24"
								     stroke="currentColor"
								     aria-hidden="true">
									<path stroke-linecap="round"
									      stroke-linejoin="round"
									      stroke-width="2"
									      d="M6 18L18 6M6 6l12 12"/>
								</svg>
							</button>
						</div>
					</div>
				</div>
				<div class="mt-6 relative flex-1 px-4 sm:px-6">
					<div class="absolute inset-0 px-4 sm:px-6">
						<!-- Vispunt -->
						<vis-fishing-points-selected-feature *ngIf="selected && selected.has(5)"
						                                     [properties]="selected.get(5)"
						                                     [layerName]="layerName(5)"
						                                     [layerNumber]="5"></vis-fishing-points-selected-feature>
						<!-- VHA Waterloop -->
						<vis-fishing-points-selected-feature *ngIf="selected && selected.has(0)"
						                                     [properties]="selected.get(0)"
						                                     [layerName]="layerName(0)"
						                                     [layerNumber]="0"></vis-fishing-points-selected-feature>
						<!-- BRU hydro -->
						<vis-fishing-points-selected-feature *ngIf="selected && selected.has(4)"
						                                     [properties]="selected.get(4)"
						                                     [layerName]="layerName(4)"
						                                     [layerNumber]="4"></vis-fishing-points-selected-feature>
						<!-- Watervlak -->
						<vis-fishing-points-selected-feature *ngIf="selected && selected.has(1)"
						                                     [properties]="selected.get(1)"
						                                     [layerName]="layerName(1)"
						                                     [layerNumber]="1"></vis-fishing-points-selected-feature>
						<!-- GEMEENTE -->
						<vis-fishing-points-selected-feature *ngIf="selected && selected.has(3)"
						                                     [properties]="selected.get(3)"
						                                     [layerName]="layerName(3)"
						                                     [layerNumber]="3"></vis-fishing-points-selected-feature>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
	<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 text-sm mt-2">
		<div *ngFor="let item of legend | keyvalue"
		     class="flex items-center">
			<div class="w-14 h-1 inline-block center mr-1"
			     [style]="'background-color: rgba(' + item.value + ')'"></div>
			<span>{{item.key}}</span>
		</div>
	</div>
</div>
