<div>
	<div class="max-w-none mx-auto">
		<form [formGroup]="createSurveyEventForm"
		      class="space-y-8 divide-y divide-gray-200">
			<div class="bg-white overflow-visible sm:rounded-lg sm:shadow">
				<div class="bg-white px-4 py-5 border-b border-gray-200 sm:px-6">
					<h3 class="text-lg leading-6 font-medium text-gray-900">
						Waarneming toevoegen
					</h3>
				</div>
				<div class="bg-white px-4 py-5 sm:px-6">
					<div class="space-y-8 divide-y divide-gray-200">
						<div>
							<div class="mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6">
								<div class="sm:col-span-4">
									<label class="block text-sm font-medium text-gray-700">
										Datum *
									</label>
									<div class="mt-1">
										<vis-datepicker formControlName="occurrenceDate"
										                [minDate]="minDate"
										                [maxDate]="maxDate">
										</vis-datepicker>
									</div>
									<vis-form-error-message [fieldName]="'Datum'"
									                        [control]="occurrenceDate"
									                        [submitted]="submitted"></vis-form-error-message>
								</div>

								<div class="relative sm:col-span-4">
									<label for="fishingPoint"
									       class="block text-sm font-medium text-gray-700">
										Vispunt *
									</label>
									<div class="mt-1">
										<vis-searchable-select id="fishingPoint"
										                       passedId="fishingPoint"
										                       placeholder="Selecteer een vispunt"
										                       formControlName="fishingPointId"
										                       (search)="getFishingPoints($event)"
										                       [options]="fishingPoints"
										                       [configuration]="searchableSelectConfig">
										</vis-searchable-select>
									</div>
									<vis-form-error-message fieldName="Vispunt"
									                        [control]="fishingPoint"
									                        [submitted]="submitted"></vis-form-error-message>
								</div>

								<div class="relative sm:col-span-4">
									<label for="method"
									       class="block text-sm font-medium text-gray-700">
										Methode *
									</label>
									<div class="mt-1">
										<vis-searchable-select id="method"
										                       passedId="method"
										                       placeholder="Selecteer een methode"
										                       tabIndex="-1"
										                       formControlName="method"
										                       [configuration]="searchableSelectConfig"
										                       (search)="getMethods($event)"
										                       [options]="filteredMethods">
										</vis-searchable-select>
									</div>
									<vis-form-error-message [fieldName]="'Methode'"
									                        [control]="method"
									                        [submitted]="submitted"></vis-form-error-message>
								</div>

								<div class="sm:col-span-6">
									<label for="comment"
									       class="block text-sm font-medium text-gray-700">
										Commentaar
									</label>
									<div class="mt-1">
                                        <textarea formControlName="comment"
                                                  id="comment"
                                                  name="comment"
                                                  rows="3"></textarea>
									</div>
									<div class="flex justify-between">
										<vis-text-counter [max]="800"
										                  [text]="comment.value"></vis-text-counter>
									</div>
									<vis-form-error-message [fieldName]="'Commentaar'"
									                        [control]="comment"
									                        [submitted]="submitted"></vis-form-error-message>
								</div>
							</div>
							<vis-form-error-message [fieldName]="'Waarneming'"
							                        [control]="form"
							                        [submitted]="submitted"></vis-form-error-message>
						</div>
					</div>

					<div class="py-3">
						<vis-existing-survey-events-found-warning
								[date]="occurrenceDate?.value"
								[fishingPointId]="fishingPoint?.value"
								[method]="method?.value">
						</vis-existing-survey-events-found-warning>
					</div>
				</div>

				<div class="bg-white px-4 py-5 border-b border-gray-200 sm:px-6">
					<div class="flex justify-end">
						<button (click)="cancel()"
						        type="button"
						        class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500">
							Annuleren
						</button>
						<button (click)="createSurveyEvent()"
						        type="button"
						        class="ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-pink-600 hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500">
							Bewaren
						</button>
					</div>
				</div>
			</div>
		</form>
	</div>
</div>
